(this["webpackJsonptwitch-data"]=this["webpackJsonptwitch-data"]||[]).push([[0],{18:function(e,t,a){},19:function(e,t,a){"use strict";a.r(t);var s=a(0),n=a(1),c=a.n(n),i=a(8),r=a.n(i),l=(a(14),a(15),a(18),a(2)),o=a(3),d=a(5),h=a(4),u=function(e){Object(d.a)(a,e);var t=Object(h.a)(a);function a(){return Object(l.a)(this,a),t.apply(this,arguments)}return Object(o.a)(a,[{key:"render",value:function(){return Object(s.jsx)("section",{id:"header",className:"bg-primary",children:Object(s.jsxs)("div",{className:"container",children:[Object(s.jsx)("h1",{className:"text-center",children:"Twitch Data"}),Object(s.jsx)("h2",{className:"text-center",children:"Stats of all Twitch Users"})]})})}}]),a}(n.Component),m=a(6),j=function(e){Object(d.a)(a,e);var t=Object(h.a)(a);function a(e){var s;return Object(l.a)(this,a),(s=t.call(this,e)).scrollToBottom=function(){setTimeout((function(){s.end.current.scrollIntoView({behavior:"smooth"})}),500)},s.state={id:null,steamer_name:null,created_at:null,broadcaster_type:null,profile_image_url:null,total_viewers:null,followers:null,video_list:[]},s.end=c.a.createRef(),s}return Object(o.a)(a,[{key:"fetchData",value:function(){var e=this;fetch("https://api.twitch.tv/helix/users?login=".concat(this.props.streamer),{headers:{Authorization:"Bearer REACT_APP_TOKEN","Client-ID":"REACT_APP_CLIENT_ID"}}).then((function(e){return e.json()})).then((function(t){t.data.length?(e.setState({id:t.data[0].id,steamer_name:t.data[0].display_name,created_at:t.data[0].created_at.slice(0,10).split("-").reverse().join("-"),broadcaster_type:t.data[0].broadcaster_type.replace("partner","Partner").replace("affiliate","Affiliate"),profile_image_url:t.data[0].profile_image_url,total_viewers:t.data[0].view_count}),fetch("https://api.twitch.tv/helix/users/follows?to_id=".concat(e.state.id),{headers:{Authorization:"Bearer REACT_APP_TOKEN","Client-ID":"REACT_APP_CLIENT_ID"}}).then((function(e){return e.json()})).then((function(t){e.setState({followers:t.total}),fetch("https://api.twitch.tv/helix/videos?user_id=".concat(e.state.id),{headers:{Authorization:"Bearer REACT_APP_TOKEN","Client-ID":"REACT_APP_CLIENT_ID"}}).then((function(e){return e.json()})).then((function(t){e.setState({video_list:t.data}),console.log(e.state.video_list)}))}))):alert("This Twitch Streamer doesn't exist, try again")}))}},{key:"componentDidMount",value:function(){this.fetchData(),this.scrollToBottom()}},{key:"componentDidUpdate",value:function(e){this.props.streamer!==e.streamer&&this.fetchData()}},{key:"render",value:function(){return Object(s.jsxs)("div",{className:"pt-5",children:[Object(s.jsxs)("h2",{className:"text-center",children:["Stats of ",this.state.steamer_name]}),Object(s.jsx)("img",{src:this.state.profile_image_url,className:"img-fluid mx-auto d-block py-3",alt:""}),Object(s.jsxs)("p",{className:"text-center",children:[Object(s.jsxs)("span",{className:"badge badge-info mx-2 my-2",children:["Created at: ",this.state.created_at]}),Object(s.jsxs)("span",{className:"badge badge-primary mx-2 my-2",children:["Type: ",this.state.broadcaster_type]}),Object(s.jsxs)("span",{className:"badge badge-success mx-2 my-2",children:["Views: ",this.state.total_viewers]}),Object(s.jsxs)("span",{className:"badge badge-danger mx-2 my-2",children:["Followers: ",this.state.followers]})]}),Object(s.jsx)("div",{ref:this.end}),Object(s.jsxs)("h2",{className:"text-center pt-4",children:["Videos of ",this.state.steamer_name]}),Object(s.jsx)("div",{className:"card-columns pt-5",children:this.state.video_list.map((function(e,t){return e.thumbnail_url?Object(s.jsxs)("div",{className:"card",children:[Object(s.jsx)("img",{className:"card-img-top",src:e.thumbnail_url.replace("%{width}","320").replace("%{height}","180"),alt:"Test"}),Object(s.jsxs)("div",{className:"card-body",children:[Object(s.jsx)("h5",{className:"card-title text-center",children:e.title}),Object(s.jsxs)("p",{className:"text-center",children:[Object(s.jsxs)("span",{className:"badge badge-info mx-2 my-2",children:["Published at: ",e.published_at.slice(0,10).split("-").reverse().join("-")]}),Object(s.jsxs)("span",{className:"badge badge-success mx-2 my-2",children:["Views: ",e.view_count]})]}),Object(s.jsx)("div",{className:"d-flex justify-content-center",children:Object(s.jsx)("a",{href:e.url,target:"_blank",rel:"noreferrer",className:"btn btn-primary",children:"See Video"})})]})]},"video_"+t):null}))})]})}}]),a}(n.Component),b=function(e){Object(d.a)(a,e);var t=Object(h.a)(a);function a(e){var s;return Object(l.a)(this,a),(s=t.call(this,e)).state={isSubmitted:!1,streamer:""},s.handleSubmit=s.handleSubmit.bind(Object(m.a)(s)),s.input=c.a.createRef(),s}return Object(o.a)(a,[{key:"handleSubmit",value:function(e){this.setState({isSubmitted:!0,streamer:this.input.current.value}),e.preventDefault()}},{key:"render",value:function(){return Object(s.jsx)("section",{id:"statistics",className:"bg-secondary py-5",children:Object(s.jsxs)("div",{className:"container",children:[Object(s.jsx)("h3",{className:"text-center",children:"Enter the name of the Twitch Streamer"}),Object(s.jsxs)("form",{onSubmit:this.handleSubmit,children:[Object(s.jsx)("div",{className:"form-group d-flex justify-content-center",children:Object(s.jsx)("input",{type:"text",className:"form-control text-center my-4",style:{width:"70%"},ref:this.input,placeholder:"Enter Twitch Streamer"})}),Object(s.jsx)("div",{className:"d-flex justify-content-center",children:Object(s.jsx)("button",{type:"submit",className:"btn btn-primary",children:"Submit"})})]}),this.state.isSubmitted&&Object(s.jsx)(j,{streamer:this.state.streamer})]})})}}]),a}(n.Component);var p=function(){return Object(s.jsxs)("div",{className:"App",children:[Object(s.jsx)(u,{}),Object(s.jsx)(b,{})]})},f=function(e){e&&e instanceof Function&&a.e(3).then(a.bind(null,20)).then((function(t){var a=t.getCLS,s=t.getFID,n=t.getFCP,c=t.getLCP,i=t.getTTFB;a(e),s(e),n(e),c(e),i(e)}))};r.a.render(Object(s.jsx)(c.a.StrictMode,{children:Object(s.jsx)(p,{})}),document.getElementById("root")),f()}},[[19,1,2]]]);
//# sourceMappingURL=main.cfe575e1.chunk.js.map